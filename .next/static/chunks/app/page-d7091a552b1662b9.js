(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1977:function(e,t,a){Promise.resolve().then(a.bind(a,9319))},9319:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var r=a(7437),n=a(2265),s=a(3247),l=a(1817),i=a(3030),c=a(4656),o=a(1047),d=a(5252),m=a(525),u=a(3085),x=a(4394),f=a(1994),p=a(3335);function h(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,p.m6)((0,f.W)(t))}var g=a(4457),b=a.n(g);function y(e){let{data:t}=e,a=t.market.performance>=0,n="BULLISH"===t.analysis.sentiment,s=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:e<1?6:2}).format(e),l=n&&t.market.performance>0||!n&&t.market.performance<0,f=async()=>{let e=document.getElementById("share-container");if(e)try{(await b()(e,{backgroundColor:null,scale:2,useCORS:!0,allowTaint:!0})).toBlob(async e=>{if(e)try{await navigator.clipboard.write([new ClipboardItem({"image/png":e})]),alert("\uD83D\uDCF8 Image copied to clipboard!\n(Includes both Tweet & Stats)\n\nPaste (Ctrl+V) it into the Tweet composer that opens next.");let a="\uD83E\uDD2F ".concat(t.analysis.symbol," is ").concat(t.market.performance>0?"UP":"DOWN"," ").concat(t.market.performance.toFixed(2),"% since this call by @").concat(t.tweet.username,"!\n\nCheck how your predictions aged \uD83D\uDC47"),r="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(a),"&url=").concat(encodeURIComponent(window.location.href));window.open(r,"_blank")}catch(e){console.error("Clipboard failed",e),alert("Click 'Share' again, but this time allow clipboard access if prompted!")}})}catch(e){console.error("Screenshot failed",e)}};return(0,r.jsxs)("div",{id:"share-container",className:"flex flex-col lg:flex-row gap-8 w-full max-w-6xl mx-auto p-4 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,r.jsx)("div",{className:"flex-1 flex justify-center lg:justify-end",children:(0,r.jsx)("div",{className:"w-full max-w-[550px] tweet-container dark",children:(0,r.jsx)(i.t,{id:t.tweet.id})})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col justify-center",children:[(0,r.jsxs)("div",{className:h("rounded-3xl border p-8 backdrop-blur-sm",l?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 opacity-80",children:[(0,r.jsx)(c.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-sm font-medium uppercase tracking-wider",children:"Since This Call"})]}),(0,r.jsxs)("h2",{className:"text-2xl font-light mb-2",children:[t.analysis.symbol," is ",t.market.performance>0?"up":"down"]}),(0,r.jsxs)("div",{className:h("text-7xl font-bold tracking-tighter mb-8 tabular-nums",l?"text-green-500":"text-red-500"),children:[t.market.performance>0?"+":"",t.market.performance.toFixed(2),"%"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"})," Date"]}),(0,r.jsx)("div",{className:"font-medium",children:new Date(t.analysis.date).toLocaleDateString(void 0,{dateStyle:"medium"})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"})," Price Then"]}),(0,r.jsx)("div",{className:"font-medium",children:s(t.market.callPrice)})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2",children:[a?(0,r.jsx)(m.Z,{className:"w-4 h-4"}):(0,r.jsx)(u.Z,{className:"w-4 h-4"})," Price Now"]}),(0,r.jsx)("div",{className:"font-medium",children:s(t.market.currentPrice)})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"text-muted-foreground",children:"Call Type"}),(0,r.jsx)("div",{className:h("font-bold inline-flex items-center gap-1",n?"text-green-500":"text-red-500"),children:t.analysis.sentiment})]})]})]}),(0,r.jsxs)("button",{onClick:f,className:"mt-6 w-full py-4 rounded-xl bg-foreground text-background font-bold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[(0,r.jsx)(x.Z,{className:"w-5 h-5"}),"Share Result on X"]})]})]})}function w(){let[e,t]=(0,n.useState)(""),[a,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)(null),[d,m]=(0,n.useState)(null);async function u(t){if(t.preventDefault(),!e)return;i(!0),o(null),m(null);let a=function(e){try{let t=localStorage.getItem("stc_cache_".concat(e));if(!t)return null;let{data:a,timestamp:r}=JSON.parse(t);if(Date.now()-r>3e5)return localStorage.removeItem("stc_cache_".concat(e)),null;return a}catch(e){return null}}(e);if(a){m(a),i(!1);return}try{let t=await fetch("/api/analyze?url=".concat(encodeURIComponent(e))),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to analyze tweet");!function(e,t){try{localStorage.setItem("stc_cache_".concat(e),JSON.stringify({data:t,timestamp:Date.now()}))}catch(e){}}(e,a),m(a)}catch(e){o(e.message)}finally{i(!1)}}return(0,r.jsxs)("main",{className:"min-h-screen bg-background flex flex-col items-center py-24 px-4 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-blue-500/10 rounded-full blur-[100px] -z-10 pointer-events-none"}),(0,r.jsxs)("div",{className:"text-center mb-16 space-y-4 max-w-2xl",children:[(0,r.jsx)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-secondary text-secondary-foreground text-xs font-semibold tracking-wide uppercase",children:"Social Accountability Engine"}),(0,r.jsx)("h1",{className:"text-5xl md:text-7xl font-bold tracking-tighter bg-clip-text text-transparent bg-gradient-to-b from-foreground to-foreground/50",children:"Since This Call"}),(0,r.jsx)("p",{className:"text-xl text-muted-foreground",children:"Paste a crypto or stock prediction from X/Twitter to see how it aged."})]}),(0,r.jsxs)("form",{onSubmit:u,className:"w-full max-w-xl relative flex items-center mb-12 group",children:[(0,r.jsx)("div",{className:"absolute left-4 text-muted-foreground group-focus-within:text-foreground transition-colors",children:(0,r.jsx)(s.Z,{className:"w-5 h-5"})}),(0,r.jsx)("input",{type:"url",placeholder:"https://x.com/username/status/...",className:"w-full h-14 pl-12 pr-32 rounded-2xl bg-secondary/50 border border-transparent focus:border-primary/50 focus:bg-background focus:ring-4 focus:ring-primary/10 transition-all outline-none text-lg",value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("button",{type:"submit",disabled:a||!e,className:"absolute right-2 h-10 px-6 rounded-xl bg-primary text-primary-foreground font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:a?(0,r.jsx)(l.Z,{className:"w-4 h-4 animate-spin"}):"Analyze"})]}),c&&(0,r.jsxs)("div",{className:"mb-12 p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-500 flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),c]}),d&&(0,r.jsx)(y,{data:d}),(0,r.jsxs)("div",{className:"mt-auto py-8 text-center space-y-2 opacity-50 hover:opacity-100 transition-opacity",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Powered by"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[(0,r.jsx)("span",{className:"font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:"Google Gemini 2.0 Flash"}),(0,r.jsx)("span",{children:"â€¢"}),(0,r.jsx)("span",{children:"v0.1.0"})]})]})]})}}},function(e){e.O(0,[342,337,734,971,117,744],function(){return e(e.s=1977)}),_N_E=e.O()}]);